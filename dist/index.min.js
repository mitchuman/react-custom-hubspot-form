import{useState as b}from"react";export function useHubspotForm({portalId:t,formId:n,fields:a}){const[e,i]=b(null),[o,c]=b(null);async function u(s){s.preventDefault();const m=Array.from(s.target.elements).filter(({name:l})=>!!l).map(l=>({name:l.name,value:l.type=="checkbox"?String(l.checked):l.value})),r=await h({portalId:t,formId:n,fields:m});i(r),c(r?.ok&&await r.json())}const d=a.map(s=>{const m=s.type==="checkbox"?k:s.type==="select"?y:s.type==="textarea"?p:f;return({component:r=m,...l}={})=>React.createElement(r,{...s,...l})});return{onSubmit:u,response:e,result:o,Fields:d,Form:({children:s,...m})=>e?.ok&&!!o?.redirectUri?(window.location.href=o.redirectUri,React.createElement("p",null,"Redirecting...")):e?.ok&&!!o?.inlineMessage?React.createElement("div",{dangerouslySetInnerHTML:{__html:o.inlineMessage}}):React.createElement("form",{onSubmit:u,...m},s||React.createElement(React.Fragment,null,d?.map((r,l)=>React.createElement(r,{key:l})),React.createElement("button",{type:"submit"},"Submit")))}}async function h({portalId:t,formId:n,fields:a}){const e=`https://api.hsforms.com/submissions/v3/integration/submit/${t}/${n}`;return await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fields:a})})}const f=({label:t,className:n,value:a,...e})=>React.createElement("label",{htmlFor:e.name,className:n},React.createElement("small",null,t,e.required&&React.createElement("span",null,"*")),React.createElement("input",{id:e.name,placeholder:t,defaultValue:a,...e})),p=({label:t,className:n,value:a,...e})=>React.createElement("label",{htmlFor:e.name},React.createElement("small",null,t,e.required&&React.createElement("span",null,"*")),React.createElement("textarea",{id:e.name,placeholder:t,children:a,...e})),y=({label:t,options:n,value:a="",className:e,...i})=>React.createElement("label",{htmlFor:i.name,className:e},React.createElement("small",null,t,i.required&&React.createElement("span",null,"*")),React.createElement("select",{id:i.name,defaultValue:a,...i},React.createElement("option",{value:"",disabled:!0},"Please select"),n?.map((o,c)=>React.createElement("option",{value:o,key:c},o)))),k=({label:t,className:n,value:a,...e})=>React.createElement("label",{htmlFor:e.name,className:n},React.createElement("input",{id:e.name,defaultChecked:a,defaultValue:a,...e}),t);

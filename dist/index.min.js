import*as e from"react";import{useState as h}from"react";export function useHubspotForm({portalId:t,formId:s,fields:l}){const[n,m]=h(null),[r,d]=h(null);async function b(o){o.preventDefault();const u=Array.from(o.target.elements).filter(({name:a})=>!!a).map(a=>({name:a.name,value:a.type=="checkbox"?String(a.checked):a.value})),i=await f({portalId:t,formId:s,fields:u});m(i),d(i?.ok&&await i.json())}const c=l.map(o=>{const u=o.type==="checkbox"?F:o.type==="select"?k:o.type==="textarea"?y:p;return({component:i=u,...a}={})=>e.createElement(i,{...o,...a})});return{onSubmit:b,response:n,result:r,Fields:c,Form:({children:o,...u})=>n?.ok&&!!r?.redirectUri?(window.location.href=r.redirectUri,e.createElement("p",null,"Redirecting...")):n?.ok&&!!r?.inlineMessage?e.createElement("div",{dangerouslySetInnerHTML:{__html:r.inlineMessage}}):e.createElement("form",{onSubmit:b,...u},o||e.createElement(e.Fragment,null,c?.map((i,a)=>e.createElement(i,{key:a})),e.createElement("button",{type:"submit"},"Submit")))}}async function f({portalId:t,formId:s,fields:l}){const n=`https://api.hsforms.com/submissions/v3/integration/submit/${t}/${s}`;return await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fields:l})})}const p=({label:t,className:s,value:l,...n})=>e.createElement("label",{htmlFor:n.name,className:s},e.createElement("small",null,t,n.required&&e.createElement("span",null,"*")),e.createElement("input",{id:n.name,placeholder:t,defaultValue:l,...n})),y=({label:t,className:s,value:l,...n})=>e.createElement("label",{htmlFor:n.name},e.createElement("small",null,t,n.required&&e.createElement("span",null,"*")),e.createElement("textarea",{id:n.name,placeholder:t,children:l,...n})),k=({label:t,options:s,value:l="",className:n,...m})=>e.createElement("label",{htmlFor:m.name,className:n},e.createElement("small",null,t,m.required&&e.createElement("span",null,"*")),e.createElement("select",{id:m.name,defaultValue:l,...m},e.createElement("option",{value:"",disabled:!0},"Please select"),s?.map((r,d)=>e.createElement("option",{value:r,key:d},r)))),F=({label:t,className:s,value:l,...n})=>e.createElement("label",{htmlFor:n.name,className:s},e.createElement("input",{id:n.name,defaultChecked:l,defaultValue:l,...n}),t);

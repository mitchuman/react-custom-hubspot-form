import{useState as e}from"react";function t(){return t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},t.apply(this,arguments)}function a({portalId:a,formId:m,fields:s}){const[o,i]=e(null),[u,d]=e(null);async function p(e){e.preventDefault();const t=Array.from(e.target.elements).filter((({name:e})=>!!e)).map((e=>({name:e.name,value:"checkbox"==e.type?String(e.checked):e.value}))),l=await async function({portalId:e,formId:t,fields:a}){const l=`https://api.hsforms.com/submissions/v3/integration/submit/${e}/${t}`;return await fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fields:a})})}({portalId:a,formId:m,fields:t});i(l),d(l?.ok&&await l.json())}const f=s.map((e=>{const a="checkbox"===e.type?r:"select"===e.type?c:"textarea"===e.type?n:l;return({component:l=a,...n}={})=>React.createElement(l,t({},e,n))}));return{onSubmit:p,response:o,result:u,Fields:f,Form:({children:e,...a})=>o?.ok&&u?.redirectUri?(window.location.href=u.redirectUri,React.createElement("p",null,"Redirecting...")):o?.ok&&u?.inlineMessage?React.createElement("div",{dangerouslySetInnerHTML:{__html:u.inlineMessage}}):React.createElement("form",t({onSubmit:p},a),e||React.createElement(React.Fragment,null,f?.map(((e,t)=>React.createElement(e,{key:t}))),React.createElement("button",{type:"submit"},"Submit")))}}const l=({label:e,className:a,value:l,...n})=>React.createElement("label",{htmlFor:n.name,className:a},React.createElement("small",null,e,n.required&&React.createElement("span",null,"*")),React.createElement("input",t({id:n.name,placeholder:e,defaultValue:l},n))),n=({label:e,className:a,value:l,...n})=>React.createElement("label",{htmlFor:n.name},React.createElement("small",null,e,n.required&&React.createElement("span",null,"*")),React.createElement("textarea",t({id:n.name,placeholder:e,children:l},n))),c=({label:e,options:a,value:l="",className:n,...c})=>React.createElement("label",{htmlFor:c.name,className:n},React.createElement("small",null,e,c.required&&React.createElement("span",null,"*")),React.createElement("select",t({id:c.name,defaultValue:l},c),React.createElement("option",{value:"",disabled:!0},"Please select"),a?.map(((e,t)=>React.createElement("option",{value:e,key:t},e))))),r=({label:e,className:a,value:l,...n})=>React.createElement("label",{htmlFor:n.name,className:a},React.createElement("input",t({id:n.name,defaultChecked:l,defaultValue:l},n)),e);export{a as useHubspotForm};
//# sourceMappingURL=index.min.js.map
